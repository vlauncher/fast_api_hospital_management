# =============================================================================
# Hospital Management System Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment

# =============================================================================
# Application Settings
# =============================================================================
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-super-secret-key-change-this-in-production
LOG_LEVEL=INFO

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hospital_management
POSTGRES_DB=hospital_management
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis Cache and Message Broker
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=redis123
REDIS_PORT=6379

# Redis Connection Pool
REDIS_POOL_SIZE=20
REDIS_POOL_TIMEOUT=30

# =============================================================================
# Security Settings
# =============================================================================
# JWT Configuration
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256

# Encryption Settings
ENCRYPTION_KEY=your-32-character-encryption-key-here

# CORS Settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8000
ALLOWED_HOSTS=localhost,127.0.0.1

# =============================================================================
# Email Configuration
# =============================================================================
# SMTP Settings (for sending emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
SMTP_SSL=false

# Email Settings
EMAIL_FROM=noreply@hospital.com
EMAIL_FROM_NAME=Hospital Management System
EMAIL_REPLY_TO=support@hospital.com

# =============================================================================
# Celery Configuration
# =============================================================================
# Celery Broker and Backend
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Celery Worker Settings
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# =============================================================================
# Rate Limiting
# =============================================================================
# Rate Limit Settings
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600  # 1 hour in seconds

# =============================================================================
# File Upload Settings
# =============================================================================
# File Upload Configuration
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=uploads
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx

# =============================================================================
# Monitoring and Logging
# =============================================================================
# Monitoring Settings
ENABLE_METRICS=true
METRICS_PORT=8001

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=logs/app.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# External Services
# =============================================================================
# External API Keys (if needed)
# EXTERNAL_API_KEY=your-external-api-key
# EXTERNAL_API_URL=https://api.example.com

# =============================================================================
# Development and Testing
# =============================================================================
# Development Settings
RELOAD=true
SHOW_DOCS=true
SHOW_REDOC=true

# Testing Settings
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_hospital_management
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# Production Settings
# =============================================================================
# Security Headers
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true
SECURE_X_FRAME_OPTIONS=DENY

# Session Settings
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_AGE=86400  # 24 hours

# =============================================================================
# Docker and Container Settings
# =============================================================================
# Docker Configuration
API_PORT=8000
NGINX_PORT=80
NGINX_SSL_PORT=443
FLOWER_PORT=5555
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# Container Resource Limits
API_MEMORY_LIMIT=512m
API_CPU_LIMIT=0.5
CELERY_MEMORY_LIMIT=256m
CELERY_CPU_LIMIT=0.3

# =============================================================================
# Backup and Maintenance
# =============================================================================
# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=backups/

# Maintenance Settings
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."

# =============================================================================
# Feature Flags
# =============================================================================
# Feature Toggles
ENABLE_AUDIT_LOGGING=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_BACKGROUND_TASKS=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true
ENABLE_MONITORING=true

# =============================================================================
# HIPAA Compliance Settings
# =============================================================================
# Compliance Settings
HIPAA_COMPLIANCE_MODE=true
DATA_RETENTION_YEARS=7
AUDIT_LOG_RETENTION_YEARS=7
FORCE_SSL=true
REQUIRE_AUTHENTICATION=true

# Privacy Settings
ANONYMIZE_DELETED_DATA=true
ENCRYPT_PII=true
LOG_ACCESS_TO_SENSITIVE_DATA=true

# =============================================================================
# Performance Settings
# =============================================================================
# Cache Settings
CACHE_DEFAULT_TIMEOUT=3600  # 1 hour
CACHE_SESSION_TIMEOUT=86400  # 24 hours
CACHE_RATE_LIMIT_TIMEOUT=300  # 5 minutes

# Database Performance
DB_STATEMENT_TIMEOUT=30000  # 30 seconds
DB_QUERY_TIMEOUT=10000  # 10 seconds
DB_CONNECTION_TIMEOUT=30  # 30 seconds

# =============================================================================
# Third-party Integrations
# =============================================================================
# OAuth Providers (if applicable)
# GOOGLE_OAUTH_CLIENT_ID=your-google-client-id
# GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret
# MICROSOFT_OAUTH_CLIENT_ID=your-microsoft-client-id
# MICROSOFT_OAUTH_CLIENT_SECRET=your-microsoft-client-secret

# Payment Processors (if applicable)
# STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
# STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# =============================================================================
# Localization
# =============================================================================
# Internationalization
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de
TIMEZONE=UTC

# =============================================================================
# Additional Settings
# =============================================================================
# Custom Application Settings
APP_NAME=Hospital Management System
APP_VERSION=1.0.0
APP_DESCRIPTION=A comprehensive hospital management system
APP_URL=http://localhost:8000
ADMIN_EMAIL=admin@hospital.com
SUPPORT_EMAIL=support@hospital.com

# Health Check Settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# Notes
# =============================================================================
# 1. Never commit your actual .env file to version control
# 2. Use strong, unique passwords and secrets in production
# 3. Rotate secrets regularly
# 4. Use environment-specific configurations
# 5. Enable SSL/TLS in production
# 6. Regularly review and update security settings
# 7. Monitor logs and metrics for security issues
# 8. Keep dependencies updated
# 9. Use separate databases for different environments
# 10. Implement proper backup and disaster recovery procedures
